<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> </title>
    <script src="./vue.js"></script>
    <link rel="stylesheet" href="css.css">
    <script src="./jquery-3.0.0.min.js"></script>
</head>
<body>
    <p>
        侦听器；
        响应数据的变化，当数据变化时，会立刻执行对应函数。
    </p>
<div class="box">
    <div>
        <input 
            type="text"
            v-model ='inputVal'
        ><button>百度一下</button>
    </div>
    
    <ul>
       <li v-for='search in searchResList'>
        {{ search }}
       </li>
    </ul>
</div>

<script>

const vm = new Vue({
    el:'.box',
    data:{
        inputVal: '',
        searchResList:[]
    },
    methods:{
        getData(val){
            this.searchResList = val.s
        }
    },
    watch:{
        inputVal(){
            $.ajax({
                url:'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',
                data:{
                    wd:this.inputVal,
                    cb:'vm.getData'
                },
                dataType:'jsonp'
            })
        }
    }
})


// const vm = new Vue({
//     el:'.box',
//     data:{
//         inputVal:'',
//         searchResList:[]
//     },
//     methods:{
//         getData(val){
//             this.searchResList = val.s
           
//         }
       
//     },
//    watch:{
//         inputVal(val){
//             $.ajax({
//                 data:{
//                     wd:this.inputVal,
//                     cb:'vm.getData'
//                 },
//                 url:'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',
//                 dataType:'jsonp'
               
//             })
//         }
//    }
// })


// const vm = new Vue({
//    el:'.box',
//    data:{
//        msg:'name'
//    },
//    methods:{
//         msg1Vale(){
//             console.log('当监听结果类型为string 时，一般写函数名')
//         }
//    },
//    watch:{
//        msg:function(newVal,oldVal){
//             // 当msg值发生变化是，执行此 回调函数。
//             // newVal 是 msg最新值。 oldVal 是 msg 之前的值。
//             msg 的值，类型可以是 函数, '' , []
//        },
//        msg1:'msg1Vale'
//    }
// })




</script>
</body>
</html>